#N canvas 427 160 450 300 10;
#X obj 15 165 table \$0-lesample;
#X obj 15 6 inlet~;
#X obj 214 37 f;
#X obj 94 5 inlet;
#X obj 15 244 outlet~;
#X obj 198 192 f;
#X obj 245 191 f;
#X msg 237 80 0;
#X obj 292 166 f;
#X msg 292 77 1;
#X obj 198 165 *;
#X obj 245 165 *;
#X msg 15 143 resize \$1;
#X obj 198 233 s \$0-start;
#X obj 245 211 s \$0-len;
#X obj 292 187 s \$0-pitch;
#X obj 286 258 outlet;
#N canvas 112 62 600 400 rec 0;
#X obj 5 12 inlet~;
#X msg 125 234 stop;
#X obj 50 303 tabwrite~ \$0-lesample;
#X obj 72 212 timer;
#X obj 227 223 samplerate~;
#X floatatom 227 246 5 0 0;
#X obj 227 200 loadbang;
#X obj 211 276 *;
#X msg 183 124 20;
#X obj 173 149 * 1000;
#X obj 211 327 outlet;
#X obj 183 102 moses 0.01;
#X obj 211 124 f;
#X obj 72 234 / 1000;
#X obj 56 35 route rec stop;
#X obj 102 146 b;
#X obj 173 171 delay 100;
#X obj 50 61 t b b f;
#X obj 149 211 delay 10;
#X msg 130 146 0;
#X obj 56 14 r \$0-command;
#X obj 102 121 spigot;
#X msg 139 98 1;
#X msg 167 235 0;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 3 0 13 0;
#X connect 4 0 5 0;
#X connect 5 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 10 0;
#X connect 8 0 12 0;
#X connect 9 0 16 0;
#X connect 11 0 8 0;
#X connect 11 1 12 0;
#X connect 12 0 9 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 17 0;
#X connect 14 1 21 0;
#X connect 15 0 3 1;
#X connect 15 0 1 0;
#X connect 15 0 19 0;
#X connect 16 0 18 0;
#X connect 16 0 3 1;
#X connect 17 0 2 0;
#X connect 17 1 3 0;
#X connect 17 1 22 0;
#X connect 17 2 11 0;
#X connect 18 0 1 0;
#X connect 18 0 23 0;
#X connect 19 0 16 0;
#X connect 20 0 14 0;
#X connect 21 0 15 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X restore 15 121 pd rec;
#N canvas 459 14 628 668 playing 0;
#X msg 151 73 0;
#X msg 71 66 1;
#X obj 159 617 outlet~;
#X obj 269 481 r \$0-start;
#X obj 212 176 r \$0-len;
#X obj 63 130 r \$0-pitch;
#X obj 88 5 r \$0-command;
#X obj 88 26 route play stop cont reverse loop pingpong;
#X obj 177 226 loop~;
#X obj 269 504 samphold~;
#X obj 192 522 +~;
#X obj 177 326 min~ 1;
#X obj 177 171 / 1;
#X obj 200 119 + 1;
#X obj 183 145 t b f;
#X obj 177 344 sig~ 1;
#X obj 177 368 -~;
#X obj 193 304 max~ 1;
#X obj 338 324 != 1;
#X obj 301 281 *~;
#X obj 301 323 -~;
#X obj 301 369 spigot;
#X obj 317 260 abs~;
#X obj 301 302 sig~ 3;
#X obj 177 256 *~ 1;
#X obj 192 495 *~;
#X msg 301 391 0;
#X obj 177 465 +~ 0;
#X obj 232 405 * -2;
#X obj 232 426 + 1;
#X obj 177 444 *~ 1;
#X msg 100 66 set \$1;
#X obj 58 45 t b b f;
#X obj 192 544 *~ 1;
#X obj 71 91 f;
#X obj 58 153 f;
#X obj 232 384 f;
#X text 437 347 If it's the end of the loop;
#X text 437 370 ...and "loop" isn't set;
#X text 436 388 ... then stop the loop;
#X obj 212 198 moses 0.1;
#X obj 357 303 init 0;
#X obj 192 566 tabread4~ \$0-lesample;
#N canvas 160 232 591 415 envelope 0;
#X obj 81 68 -~ 0.5;
#X obj 83 276 clip~ -0.5 0.5;
#X obj 83 254 *~ 1;
#X obj 127 227 moses 1;
#X msg 96 227 1;
#X obj 83 301 cos~;
#X obj 81 93 wrap~;
#X obj 81 122 -~ 0.5;
#X obj 83 349 *~ -0.5;
#X obj 83 324 -~ 1;
#X floatatom 127 195 0 0 0;
#X text 135 65 subtracting 0.5 and wrapping produces a sawtooth wave
180 degrees out of phase from the original.;
#X text 130 116 as before we subtract 1/2 again to center the sawtooth
from -1/2 to 1/2.;
#X text 177 195 <-- sharpness (at least 1);
#X obj 81 42 inlet~;
#X obj 83 379 outlet~;
#X obj 127 173 inlet;
#X connect 0 0 6 0;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 2 1;
#X connect 4 0 2 1;
#X connect 5 0 9 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 8 0 15 0;
#X connect 9 0 8 0;
#X connect 10 0 3 0;
#X connect 14 0 0 0;
#X connect 16 0 10 0;
#X restore 105 524 pd envelope;
#X obj 159 594 *~;
#X obj 111 566 sig~ 1;
#X obj 89 368 /;
#X obj 67 324 abs;
#X obj 96 346 t b f;
#X floatatom 25 405 8 0 0;
#X obj 100 302 * 44100;
#X obj 90 456 moses 10000;
#X obj 96 323 moses 0.001;
#X obj 376 440 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 301 346 threshold~ -10 0 10 0;
#X obj 92 435 / 1e-05;
#X obj 113 413 t b f;
#X obj 115 392 r \$0-env;
#X connect 0 0 12 0;
#X connect 0 0 34 0;
#X connect 1 0 34 0;
#X connect 3 0 9 0;
#X connect 4 0 40 0;
#X connect 4 0 47 0;
#X connect 5 0 35 0;
#X connect 6 0 7 0;
#X connect 7 0 32 0;
#X connect 7 1 0 0;
#X connect 7 3 36 0;
#X connect 7 4 18 0;
#X connect 7 5 13 0;
#X connect 8 0 9 1;
#X connect 8 0 19 0;
#X connect 8 0 24 0;
#X connect 8 1 22 0;
#X connect 8 1 25 1;
#X connect 9 0 10 1;
#X connect 10 0 33 0;
#X connect 11 0 16 0;
#X connect 12 0 8 0;
#X connect 12 0 50 0;
#X connect 13 0 14 0;
#X connect 13 0 24 1;
#X connect 14 0 12 0;
#X connect 14 1 12 1;
#X connect 15 0 16 0;
#X connect 16 0 30 0;
#X connect 17 0 16 1;
#X connect 18 0 21 1;
#X connect 19 0 20 0;
#X connect 20 0 54 0;
#X connect 21 0 26 0;
#X connect 22 0 19 1;
#X connect 22 0 20 1;
#X connect 23 0 20 0;
#X connect 24 0 11 0;
#X connect 24 0 17 0;
#X connect 25 0 10 0;
#X connect 26 0 12 0;
#X connect 27 0 25 0;
#X connect 27 0 43 0;
#X connect 28 0 29 0;
#X connect 29 0 30 1;
#X connect 30 0 27 0;
#X connect 31 0 8 0;
#X connect 32 0 35 0;
#X connect 32 1 1 0;
#X connect 32 2 31 0;
#X connect 33 0 42 0;
#X connect 34 0 33 1;
#X connect 35 0 12 0;
#X connect 36 0 28 0;
#X connect 36 0 27 1;
#X connect 40 1 8 1;
#X connect 41 0 18 0;
#X connect 42 0 44 1;
#X connect 43 0 44 0;
#X connect 44 0 2 0;
#X connect 46 0 55 0;
#X connect 47 0 46 0;
#X connect 48 0 46 0;
#X connect 48 1 46 1;
#X connect 50 0 52 0;
#X connect 51 0 43 1;
#X connect 52 1 48 0;
#X connect 54 0 21 0;
#X connect 55 0 49 0;
#X connect 55 0 51 0;
#X connect 56 0 55 0;
#X connect 56 1 55 1;
#X connect 57 0 56 0;
#X restore 15 210 pd playing;
#X obj 94 28 s \$0-command;
#X obj 198 102 r \$0-command;
#X obj 207 59 t f f;
#X obj 372 187 / 1000;
#X obj 198 128 route start len pitch env;
#X obj 371 165 moses 0.01;
#X obj 372 211 s \$0-env;
#N canvas 305 369 600 400 saveload 0;
#X obj 36 220 soundfiler;
#X msg 36 195 read -resize \$1 \$2;
#X obj 36 173 pack s s;
#X obj 87 133 symbol \$0-lesample;
#X obj 87 111 loadbang;
#X msg 36 112 show;
#X obj 278 134 symbol \$0-lesample;
#X obj 278 111 loadbang;
#X obj 239 133 nifs;
#X msg 239 111 show;
#X obj 36 244 outlet;
#X obj 129 54 symbol;
#X obj 252 204 pack s s f f;
#X msg 252 226 write -wave -normalize -skip \$3 -nframes \$4 \$1 \$2
;
#X obj 278 92 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 252 250 soundfiler;
#X obj 137 264 outlet;
#X obj 129 77 sel load save;
#X obj 36 30 route loadfile;
#X obj 304 158 r \$0-start;
#X obj 331 181 r \$0-len;
#X floatatom 447 195 8 0 0;
#X obj 36 8 r \$0-command;
#X obj 36 134 nifs \$1;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 3 0;
#X connect 5 0 23 0;
#X connect 6 0 12 1;
#X connect 7 0 6 0;
#X connect 8 0 12 0;
#X connect 8 0 16 0;
#X connect 9 0 8 0;
#X connect 11 0 17 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 14 0 6 0;
#X connect 17 0 5 0;
#X connect 17 1 9 0;
#X connect 18 0 2 0;
#X connect 18 1 11 0;
#X connect 19 0 12 2;
#X connect 20 0 12 3;
#X connect 20 0 21 0;
#X connect 22 0 18 0;
#X connect 23 0 2 0;
#X connect 23 0 16 0;
#X restore 214 14 pd saveload \$1;
#X connect 1 0 17 0;
#X connect 2 0 10 1;
#X connect 2 0 21 0;
#X connect 3 0 19 0;
#X connect 5 0 13 0;
#X connect 6 0 14 0;
#X connect 7 0 5 0;
#X connect 8 0 15 0;
#X connect 9 0 8 0;
#X connect 10 0 5 0;
#X connect 11 0 6 0;
#X connect 12 0 0 0;
#X connect 17 0 12 0;
#X connect 17 0 2 0;
#X connect 18 0 4 0;
#X connect 20 0 23 0;
#X connect 21 0 9 0;
#X connect 21 1 7 0;
#X connect 21 1 11 1;
#X connect 21 1 6 0;
#X connect 22 0 25 0;
#X connect 23 0 10 0;
#X connect 23 1 11 0;
#X connect 23 2 8 0;
#X connect 23 3 24 0;
#X connect 24 1 22 0;
#X connect 26 0 2 0;
#X connect 26 1 16 0;
